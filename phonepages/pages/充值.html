<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximun-scale=1,minimun-scale=1,user-scalable=no">
  <title>充值</title>
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="../css/wk_all.css">


  <script type="text/javascript" src="../js/jquery.min.js"></script>
  <script type="text/javascript" src="../js/bootstrap.min.js"></script>
  <script>
  $(function () {
    $("#cash_all").click(function () {

      $("#cash_money_mun1").val($("#balance1").attr("value"));
      console.log($("#cash_money_mun1").text());
    });
    $("#cash_money_mun1").val("");
      $("#bank_cards_choise").click(function () {
        $("#choise_mybank_cards").css("display","block");
        $("#close").click(function () {
         $("#choise_mybank_cards").css("display","none");
        });
        $("#new_bankcard").click(function () {
          window.location.href="../pages/银行卡.html"
        });
      });
      
      $("#cash_next_btn").click(function () {
          $("#cash").css({
            "display":"block",
            "position":"absolute",
            "top":"0",
            "left":"0",
            "z-index":"1"
          });
          $("#cash_money_mun2").val($("#cash_money_mun1").val());
          $("#balance2").attr( "value",$("#balance1").attr("value"));
          $("#balance2").text(($("#balance1").text()));
        });  
        $("#cash_ok").click(function () {
          window.location.href="../pages/在线商城.html"
        });
    });
  </script>
  <script>
    $(function () {

      let password=$(".pay_passworde_input input");
      let times=0;
      $("#sure_cash").click(function () {

        $("#cash_pay_password").css("display","block");
         $("#close_password_input").click(function () {
          $("#cash_pay_password").css("display","none");
        });  
         $(password).val("");  
         times=0;
      });
      // 密码输入
       $("#t-keyvalue td").click(function () {
      
          if($(this).attr("value")=="."){
          let balance2= parseInt($("#balance2").attr("value"));
      
          let cash_money_mun2=parseInt($("#cash_money_mun2").val());
            if (cash_money_mun2>balance2) {
               $("#cash_pay_password").css("display","none");
              $("#no_somuch").css("display","block");
            }
            else{
              $("#cash_pay_password").css("display","none");
              $("#cash").css("display","none");
              $("#cash_is_ok").css({
                "display":"block",
                "position":"absolute",
                "top":"0",
                "left":"0",
                 "z-index":"4"
              });
              $("#success").text(cash_money_mun2);
            }
          }
           else if($(this).attr("value")=="no"){

           }
          // 删除
          else if($(this).attr("value")=="del"){

            if (times>=0) {
              $(password[times-1]).val("");
              times=times-1;
              if(times<0){times=0;}
            }
          }
          // 内容输入
          else{
            if(times<=5){ 
            $(password[times]).val($(this).attr("value"));
            times=times+1;
          }  
          }
       });
       $("#i_know").click(function () {
        $("#no_somuch").css("display","none");
        $("#cash").css("display","none");
       });
    });
  </script>
</head>
<body class="gray_bg">

  <div class="gray_gbdiv "></div>
  <div class="white_bg">
   <div class="tx_box1" id="bank_cards_choise">
     <div class="service text_black_24px">到账银行卡
     </div>    
     <div>
      <span class="text_blue_24px">建设银行储蓄卡（9798)</span>
      <img class="service unservice" style="width:0.226667rem; height: 0.373333rem;" src="../img/arrow_2.png" alt="">
     </div>
   </div>
<div class="gray_gbdiv "></div>
  <div class="tx_box2 font_size_24gray" >
    <!-- 第一行 -->
     <div class="col_flex_center" style="height: 1.386667rem;">充值金额
     </div> 
     <!-- 第二行    -->
     <div class="cash_num" >
        <span class="cash_num_mon">¥</span>
        <input id="cash_money_mun1" class="cash_num_input service" type="text" placeholder="|" >
     </div>
     <hr class="hr_all mar_top_30px" color="#ccc" >
     <!-- 第三行 -->
     <div class="cash_num space_btw">
       <span id="balance1" value="10000">该卡单日交易限额&nbsp;&nbsp;￥10000.00</span>
     </div>
   </div>
</div>
<div style="text-align: center;" >
    <button id="cash_next_btn" class="tx_next_btn mar_top_50px text_white_30px">下一步</button>
</div>
<!-- 选择银行卡层 -->
<div id="choise_mybank_cards" style="display: none;">
<!-- 灰色背景层 -->
 <div class="xzdz_gray" style="opacity: 0.5;"></div>
 <!-- 操作主体 -->
<div class="bank_cards">
  <div class=" choise_bank_cards_title">
    <span></span>
    <span class="text_black_30px">选择银行卡</span>
    <span>
      <img id="close" class="img-responsive img_size " src="../img/icon_19.png" alt=""/>
    </span>
  </div>
  <div class="choise_bank_cards_title"  >
    <div class="distribution">
      <div><img class="img_size " src="../img/icon_20.png" alt=""/>
      </div>
      <div class="text_black_24px service">中国建设银行卡（9798）</div>
    </div>
    <div>
      <img class="img_size" src="../img/icon_21.png" alt=""/>
    </div>
  </div>
  <div class=" choise_bank_cards_title" id="new_bankcard">
    <div class="distribution">
      <div><img class=" img_size " src="../img/icon_13.png" alt=""/>
      </div>
    <div class="text_black_24px service">添加银行卡</div>
    </div>
    
  </div>
</div>
</div>

<!-- 充值层 -->
<div class="gray_bg" id="cash" style="display: none">
<div class="gray_gbdiv "></div>
  <div class="white_bg">
   <div class="tx_box1" id="bank_cards_choise">
     <div class="service text_black_24px">到账银行卡
     </div>    
     <div>
      <span class="text_blue_24px">建设银行储蓄卡（9798)</span>
      <img class="service unservice" style="width:0.226667rem; height: 0.373333rem;" src="../img/arrow_2.png" alt="">
     </div>
   </div>
<div class="gray_gbdiv "></div>
  <div class="tx_box2 font_size_24gray" >
    <!-- 第一行 -->
     <div class="col_flex_center" style="height: 1.386667rem;">充值金额
     </div> 
     <!-- 第二行    -->
     <div class="cash_num" >
        <span class="cash_num_mon">¥</span>
        <input id="cash_money_mun2" class="cash_num_input service" type="text" placeholder="" value="1000">
     </div>
     <hr class="hr_all mar_top_30px" color="#ccc" >
     <!-- 第三行 -->
     <div class="cash_num space_btw">
      <span id="balance2" value="">该卡单日交易限额&nbsp;&nbsp;</span>
     </div>
   </div>
</div>
<div style="text-align: center;" >
    <button id="sure_cash" class="tx_next_btn mar_top_50px text_white_30px">确认充值</button>
</div>
<!-- 输入充值支付密码 -->
<div id="cash_pay_password" style="display: none;">
<!-- 灰色背景层 -->
 <div class="xzdz_gray" style="opacity: 0.5;"></div>
 <!-- 操作主体 -->
<div class="pay_passworde">
  <div class=" choise_bank_cards_title">
    <span></span>
    <span class="text_black_30px">请输入支付密码</span>
    <span>
      <img id="close_password_input" class="img-responsive img_size " src="../img/icon_19.png" alt=""/>
    </span>
  </div>
  <div class="col_flex_center_pj">
    <div class="font_size_24gray">充值金额</div>
    <div class="text_black_36px">¥1000</div>
    <div class="pay_passworde_input text_black_36px">
      <input type="password" value=""><input type="password" value=""><input type="password" value=""><input type="password" value=""><input type="password" value=""><input style="border-right:#ccc 1px solid;" type="password" value="">
    </div>
  </div>
</div>
<!-- 支付密码键盘 -->
<div id="t-keybord">
  <table id="t-keyvalue" class="keyboard" cellspacing="0" cellpadding="0">
    <tr><td value="no" colspan="3">安全输入键盘</td></tr>
    <tr>
      <td value="1">1</td>
      <td value="2">2</td>
      <td value="3">3</td>
    </tr>
    <tr>
      <td value="4">4</td>
      <td value="5">5</td>
      <td value="6">6</td>
    </tr>
    <tr>
      <td value="7">7</td>
      <td value="8">8</td>
      <td value="9">9</td>
    </tr>
    <tr>
      <td value=".">确定</td>
      <td value="0">0</td>
      <td value="del">删除</td>
    </tr>
  </table>
</div>
</div>
</div>

<!-- 不成功 -->
<div id="no_somuch" style="display: none;">
  <!-- 灰色背景层 -->
 <div class="xzdz_gray" style="opacity: 0.5;"></div>
    <!-- 操作主体 -->
  <div class="accident_nosuchmon">
    <div class="error_number text_black_30px">
    您输入的金额已超出提现额度！
    </div>
    <div id="i_know" class="error_number_under text_green_30px">知道了</div>
  </div>
</div> 

<!-- 充值不成功 -->
<div id="no_somuch" style="display: none;">
<!-- 灰色背景层 -->
 <div class="xzdz_gray" style="opacity: 0.5;"></div>
 <!-- 操作主体 -->
  <div class="accident_nosuchmon">
    <div class="error_number text_black_30px" >
    银行卡余额不足，
请选择其他银行卡支付！
    </div>
    <div id="i_know" class="error_number_under text_green_30px">知道了</div>
  </div>
</div>
<!-- 充值成功代码 -->
<div class="gray_bg" id="cash_is_ok" style="display: none">
<div class="filled_ok">
   <div>
     <img class="img-responsive green_circle_140px" src="../img/icon_11.png" alt="">
   </div>
   <div class="text_green_40px">
        充值成功
   </div>
</div>
  <div class="white_bg">
   <div class="tx_box1" style="border:none;">
     <div class="service font_size_24gray">充值金额
     </div>    
     <div>
      <span id="success" class="font_size_24gray unservice">¥1000</span>
     </div>
   </div>
   <div class="tx_box1">
     <div class="service font_size_24gray">到账银行卡
     </div>    
     <div>
      <span class="font_size_24gray unservice">建设银行储蓄卡（9798)</span>
     </div>
   </div>
</div>
<div style="text-align: center;">
    <button id="cash_ok" class="tx_next_btn mar_top_50px text_white_30px">完成</button>
</div>
</div>

 <script type="text/javascript">
    let htmlWidth = document.documentElement.clientWidth || document.body.clientWidth;
  let htmlDon=document.getElementsByTagName("html")[0];
    htmlDon.style.fontSize=htmlWidth/10 + "px";
 </script>
</body>
</html>